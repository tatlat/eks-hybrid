affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: eks.amazonaws.com/compute-type
          operator: In
          values:
          - hybrid
operator:
  image:
    repository: "public.ecr.aws/eks/cilium/operator"
    tag: "v1.18.5-0"
    imagePullPolicy: "IfNotPresent"
    digest: "sha256:b48284d14a8ebb3176537aae2452760fb7ef7e8ae499fbedb8b0a1d2d552a0ff"
  replicas: 1
  unmanagedPodWatcher:
    restart: false
  # the cilium-operator by default tolerations all taints
  # this makes draining a difficult if the operator is running on that node
  # since it will just immediately restart
  # this restricts the toleration to the one needed during initialization
  # more info: https://github.com/cilium/cilium/pull/28856
  tolerations:
    - key: node.kubernetes.io/not-ready
      operator: Exists
    - key: node.cilium.io/agent-not-ready
      operator: Exists
ipam:
  mode: cluster-pool
envoy:
  enabled: false
image:
  repository: "public.ecr.aws/eks/cilium/cilium"
  tag: "v1.18.5-0"
  imagePullPolicy: "IfNotPresent"
  digest: "sha256:f274a319c8eab14aff9c3f45b1688dddd60afc87bd0aeacba709cb606cbebcf3"
preflight:
  image:
    repository: "public.ecr.aws/eks/cilium/cilium"
    tag: "v1.18.5-0"
    imagePullPolicy: "IfNotPresent"
    digest: "sha256:f274a319c8eab14aff9c3f45b1688dddd60afc87bd0aeacba709cb606cbebcf3"
